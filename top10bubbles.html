<!DOCTYPE HTML>
<html>
<meta charset="utf-8">
<title>2009 Names Among African American Women</title>

<script type="text/javascript" src="d3/d3.v3.js"></script>
<style type="text/css">

	circle {
		stroke: black;
		stroke-width:0.5px;
		fill: blue;
		opacity: 0.2;
	}

	aside {
		font-size: 10px;
		font-family: sans-serif;
	}

</style>
<header>
<aside>January 15, 2014 [<a href="www.matthewsaidel.com">Site</a>]</aside>
</header>

<script type="text/javascript">


d3.json("test.json", function (data) {

	//dimensions
	var width = 900,
		height =  500,
		padding = 100;

	//scales
	var xScale = d3.scale.linear()
	 			.domain([0, d3.max(data, function(d) {
	 				return d.rank;
	 			})])
	 			.clamp(true)
	 			.range([1000 - padding, 0 + padding]);

	var yScale = d3.scale.linear()
	 			.domain([0, d3.max(data, function(d) {
	 				return d.count;
	 			})])
	 			.clamp(true)
	 			.range([1000 - padding, 0 + padding]);

	// var rScale = d3.scale.linear()
	// 			.domain([0, 5])
	// 			.range(function(d) {
	// 				return d;
	// 			});

	//create the svg
	var svg = d3.select("body").append("svg")
		//.append("g")
		.attr("width", width)
		.attr("height", height)
		.attr("transform", "translate(0," + (height - padding) + ")")


	svg.selectAll("circle")
		.data(data)
		.enter()
			.append("circle")
			.attr("class", "circle")
			.attr("cx", function(d) {
				return xScale(d.rank);
			})
			.attr("cy", function(d) {
				return yScale(d.count);
			})
			.attr('r', function(d) {
				return d.count / 3;
			});

	svg.selectAll("text")
		.data(data)
		.enter()
		.append("text")
		.text(function(d) {
			return d.name;
		})
		.attr("x", function(d) {
			return xScale(d.rank);
		})
		.attr("y", function(d)	{
			return yScale(d.count);
		})
		.attr("text-anchor", "middle")
		.attr("font-size", function (d) {
			return Math.sqrt(d.count);
		})
		.attr("font-family", "sans-serif");

});

</script>
</html>